# Вторая лаба со звездой 
## В плохом Dockerfile есть несколько плохих практик:

* Открытые secret в переменных окружения, что может привести к их простому обнаружению, а впоследствии утечке данных и т.п.
* Объявлены лишние порты. Это, к слову, интересная вещь, так как даже некоторые средние компании оставляют некоторые порты открытыми. На самом деле это крайне легко ищется через различные сервисы. Это может привести к DoS атакам. А зачем нам атаки :( ?
* Случайные имена контейнеров, а от этого мне, как разработчику грустно. 


## Запуск плохого Docker compose
![](https://github.com/sedm1/DevOps/blob/main/2-zv/media/bad-compose.png)

## В хорошем файле проблемы были исправлены

* Секреты теперь хранятся в спецаильном разделе
* Открыт лишь один порт
* Ну и добавлены лимиты на запуск
* Ну и саое важное, имена понятные

## Запуск хорошего Docker compose

![](https://github.com/sedm1/DevOps/blob/main/2-zv/media/good-compose.png)

### Isolated
Так как изначльно контэйнеры находятся в одной сети, то от одного можно до второго достучаться. Проблема решается просто созданием своей сети для каждого из контейнеров. Это чем-то может напоминать 1 семестр, когда мы 2 виртуалки пинговали и должны были их разграничить.

## Ну и запуск и проверка

![](https://github.com/sedm1/DevOps/blob/main/2-zv/media/docker-isolated.png)

Как мы видим: Could not resolve bla-bla-bla => все хорошо и мы изолировали их. 